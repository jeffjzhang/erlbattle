#summary 时钟要保障每台不同的机器有相同的运算结果

关于我在多篇文章中都隐晦含糊的提到： “时钟要保障每台不同的机器有相同的运算结果”  这个问题进一步解释一下，希望能讲明白。

比如对战的双方 P1, P2  各自采用了不同的算法。  P1 需要运算 10000 次（CPU 频率） 可以得出结论，并发出行动指令。 而P2要运算500000次 可以得出结论，并发出行动指令

*（注意：P1 ,P2 和战场时钟都是运行在同一台机器上的，不是分布的不同机器）*

如果我们固定使用1秒的时间节拍情况下：

慢的机器可能 P2 没有算完，时钟节拍就到下一拍了。 这个时候相当于 P1 开始行动，而P2 原地没动。 当P2 在若干拍后算完，此时已经时过境迁，P2开始运算前考虑的战场环境已经完全变了，P2 算出来的结果已经无用，需要重新算了。所以 P1 痛宰P2.

而如果用一台快的机器，P1, P2 都能在1秒内算完。 此时虽然P1 提前算完，但是还是要等节拍到了才能生效。 因此P1,P2 就正常对战起来。而由于P2 考虑因素更多， P2 获胜了

这种比赛结果的不确定性，显然不利于大家积极参加游戏。

这就是所谓 “时钟要保障每台不同的机器有相同的运算结果”;我的初步构想是要在系统启动后,对于机器运算速度进行测速(比如运行一些标准的复杂运算),  也就是获得比如该机器进行10000万次标准运算的时间。并以此为基准,确定该机器上的每次时钟节拍应该是多少毫秒. 当然也不可能100% 相同，但是至少相对公平些。